{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rravi\\\\Downloads\\\\abcd\\\\src\\\\pages\\\\ChatPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { mockNhost } from '../graphql';\nimport { GQL } from '../graphql';\nimport ChatList from '../components/ChatList';\nimport MessageView from '../components/MessageView';\n\n// Background Glow component for reuse\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Glow = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `absolute rounded-full mix-blend-hard-light filter blur-3xl opacity-40 animate-blob ${className}`\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 8,\n  columnNumber: 33\n}, this);\n\n// Neon styles to be injected\n_c = Glow;\nconst NeonStyles = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    @keyframes shimmer {\n      0% { background-position: -500% 0; }\n      100% { background-position: 500% 0; }\n    }\n    .shimmer-effect {\n      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n      background-size: 300% 100%;\n      animation: shimmer 5s linear infinite;\n    }\n    @keyframes pulse-bubble {\n      0%, 100% { transform: scale(1); box-shadow: 0 0 10px rgba(0,0,0,0.2); }\n      50% { transform: scale(1.02); box-shadow: 0 0 25px var(--glow-color, rgba(0,0,0,0.5)); }\n    }\n    .pulse-anim {\n      animation: pulse-bubble 4s ease-in-out infinite;\n    }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 3\n}, this);\n_c2 = NeonStyles;\nexport default function ChatPage({\n  client,\n  onLogout\n}) {\n  _s();\n  const [chats, setChats] = useState([]);\n  const [activeChatId, setActiveChatId] = useState(null);\n  const user = mockNhost.auth.getUser();\n  const fetchChats = useCallback(async () => {\n    const {\n      data\n    } = await client.query(GQL.GET_CHATS_QUERY, {\n      user_id: user.id\n    });\n    if (data && data.chats) {\n      setChats(data.chats);\n      if (!activeChatId && data.chats.length > 0) {\n        setActiveChatId(data.chats[0].id);\n      }\n    }\n  }, [client, user.id, activeChatId]);\n  useEffect(() => {\n    fetchChats();\n  }, [fetchChats]);\n  const handleCreateChat = async () => {\n    const {\n      data\n    } = await client.mutation(GQL.CREATE_CHAT_MUTATION, {\n      user_id: user.id\n    });\n    if (data && data.insert_chats_one) {\n      const newChat = data.insert_chats_one;\n      setChats(prev => [newChat, ...prev]);\n      setActiveChatId(newChat.id);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative h-screen w-screen flex font-sans text-white bg-gradient-to-br from-blue-950 via-indigo-900 to-purple-950 overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(NeonStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Glow, {\n      className: \"top-0 -left-4 w-96 h-96 bg-cyan-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Glow, {\n      className: \"top-0 -right-4 w-96 h-96 bg-fuchsia-500 animation-delay-2000\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Glow, {\n      className: \"bottom-0 -left-20 w-96 h-96 bg-lime-500 animation-delay-4000\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 w-full md:w-1/3 lg:w-1/4 xl:w-1/5 h-full\",\n      children: /*#__PURE__*/_jsxDEV(ChatList, {\n        chats: chats,\n        onSelectChat: setActiveChatId,\n        onCreateChat: handleCreateChat,\n        activeChatId: activeChatId,\n        onLogout: onLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 hidden md:flex flex-col flex-grow h-full\",\n      children: /*#__PURE__*/_jsxDEV(MessageView, {\n        chatId: activeChatId,\n        client: client\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n_s(ChatPage, \"z3oJ9rx3kGpD1jZDZcryAKcAezc=\");\n_c3 = ChatPage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Glow\");\n$RefreshReg$(_c2, \"NeonStyles\");\n$RefreshReg$(_c3, \"ChatPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","mockNhost","GQL","ChatList","MessageView","jsxDEV","_jsxDEV","Glow","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","NeonStyles","children","_c2","ChatPage","client","onLogout","_s","chats","setChats","activeChatId","setActiveChatId","user","auth","getUser","fetchChats","data","query","GET_CHATS_QUERY","user_id","id","length","handleCreateChat","mutation","CREATE_CHAT_MUTATION","insert_chats_one","newChat","prev","onSelectChat","onCreateChat","chatId","_c3","$RefreshReg$"],"sources":["C:/Users/rravi/Downloads/abcd/src/pages/ChatPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { mockNhost } from '../graphql';\r\nimport { GQL } from '../graphql';\r\nimport ChatList from '../components/ChatList';\r\nimport MessageView from '../components/MessageView';\r\n\r\n// Background Glow component for reuse\r\nconst Glow = ({ className }) => <div className={`absolute rounded-full mix-blend-hard-light filter blur-3xl opacity-40 animate-blob ${className}`}></div>;\r\n\r\n// Neon styles to be injected\r\nconst NeonStyles = () => (\r\n  <style>{`\r\n    @keyframes shimmer {\r\n      0% { background-position: -500% 0; }\r\n      100% { background-position: 500% 0; }\r\n    }\r\n    .shimmer-effect {\r\n      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n      background-size: 300% 100%;\r\n      animation: shimmer 5s linear infinite;\r\n    }\r\n    @keyframes pulse-bubble {\r\n      0%, 100% { transform: scale(1); box-shadow: 0 0 10px rgba(0,0,0,0.2); }\r\n      50% { transform: scale(1.02); box-shadow: 0 0 25px var(--glow-color, rgba(0,0,0,0.5)); }\r\n    }\r\n    .pulse-anim {\r\n      animation: pulse-bubble 4s ease-in-out infinite;\r\n    }\r\n  `}</style>\r\n);\r\n\r\n\r\nexport default function ChatPage({ client, onLogout }) {\r\n    const [chats, setChats] = useState([]);\r\n    const [activeChatId, setActiveChatId] = useState(null);\r\n    const user = mockNhost.auth.getUser();\r\n\r\n    const fetchChats = useCallback(async () => {\r\n        const { data } = await client.query(GQL.GET_CHATS_QUERY, { user_id: user.id });\r\n        if (data && data.chats) {\r\n            setChats(data.chats);\r\n            if (!activeChatId && data.chats.length > 0) {\r\n                setActiveChatId(data.chats[0].id);\r\n            }\r\n        }\r\n    }, [client, user.id, activeChatId]);\r\n\r\n    useEffect(() => {\r\n        fetchChats();\r\n    }, [fetchChats]);\r\n\r\n    const handleCreateChat = async () => {\r\n        const { data } = await client.mutation(GQL.CREATE_CHAT_MUTATION, { user_id: user.id });\r\n        if (data && data.insert_chats_one) {\r\n            const newChat = data.insert_chats_one;\r\n            setChats(prev => [newChat, ...prev]);\r\n            setActiveChatId(newChat.id);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative h-screen w-screen flex font-sans text-white bg-gradient-to-br from-blue-950 via-indigo-900 to-purple-950 overflow-hidden\">\r\n            <NeonStyles />\r\n            {/* Animated Background Glows */}\r\n            <Glow className=\"top-0 -left-4 w-96 h-96 bg-cyan-500\" />\r\n            <Glow className=\"top-0 -right-4 w-96 h-96 bg-fuchsia-500 animation-delay-2000\" />\r\n            <Glow className=\"bottom-0 -left-20 w-96 h-96 bg-lime-500 animation-delay-4000\" />\r\n\r\n            {/* Main Content */}\r\n            <div className=\"relative z-10 w-full md:w-1/3 lg:w-1/4 xl:w-1/5 h-full\">\r\n                <ChatList\r\n                    chats={chats}\r\n                    onSelectChat={setActiveChatId}\r\n                    onCreateChat={handleCreateChat}\r\n                    activeChatId={activeChatId}\r\n                    onLogout={onLogout}\r\n                />\r\n            </div>\r\n            <div className=\"relative z-10 hidden md:flex flex-col flex-grow h-full\">\r\n                <MessageView chatId={activeChatId} client={client} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}